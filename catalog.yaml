name: nextdns-mcp-catalog
displayName: NextDNS MCP Server Catalog
registry:
  nextdns:
    title: "NextDNS MCP Server"
    description: "Model Context Protocol server for NextDNS API. Complete profile management, DoH testing, logs, analytics (including time-series), security settings, blocklists, and parental controls through 74 comprehensive tools. Supports individual entry updates (PATCH) and time-series analytics for charting. OpenAPI spec provides 100% NextDNS API coverage with 82 documented operations."
    type: "server"
    image: "nextdns-mcp:latest"
    dateAdded: "2025-10-25T00:00:00Z"

    # Required secrets
    secrets:
      - name: "NextDNS API Key"
        env: "NEXTDNS_API_KEY"
        example: "your_api_key_from_nextdns"
        description: "API key from https://my.nextdns.io/account"

    # Optional environment variables
    env:
      - name: "NEXTDNS_DEFAULT_PROFILE"
        description: "Default NextDNS profile ID to use"
        example: "abc123"
      - name: "NEXTDNS_HTTP_TIMEOUT"
        description: "HTTP request timeout in seconds"
        example: "30"

    # Available tools (74 total: 73 enabled API operations + 1 custom DoH lookup)
    # Note: 9 operations excluded from tools:
    #       - 7 PUT bulk operations (FastMCP limitation with raw array body)
    #       - 1 streamLogs SSE endpoint (FastMCP limitation)
    #       - 1 getAnalyticsDomainsSeries (NextDNS API returns 404)
    tools:
      # DNS Testing (1 custom)
      - name: dohLookup

      # Profile Management (5)
      - name: listProfiles
      - name: getProfile
      - name: createProfile
      - name: updateProfile
      - name: deleteProfile

      # Settings (11)
      - name: getSettings
      - name: updateSettings
      - name: getLogsSettings
      - name: updateLogsSettings
      - name: getBlockPageSettings
      - name: updateBlockPageSettings
      - name: getPerformanceSettings
      - name: updatePerformanceSettings
      # Web3 settings not currently in NextDNS API

      # Logs (3)
      - name: getLogs
      # streamLogs excluded - SSE streaming not supported by FastMCP
      - name: downloadLogs
      - name: clearLogs

      # Analytics - Base Endpoints (11)
      - name: getAnalyticsStatus
      - name: getAnalyticsDomains
      - name: getAnalyticsReasons
      - name: getAnalyticsIPs
      - name: getAnalyticsDevices
      - name: getAnalyticsProtocols
      - name: getAnalyticsQueryTypes
      - name: getAnalyticsIPVersions
      - name: getAnalyticsDNSSEC
      - name: getAnalyticsEncryption
      - name: getAnalyticsDestinations

      # Analytics - Time-Series (10)
      - name: getAnalyticsStatusSeries
      # getAnalyticsDomainsSeries excluded - returns 404 from NextDNS API
      - name: getAnalyticsReasonsSeries
      - name: getAnalyticsIPsSeries
      - name: getAnalyticsDevicesSeries
      - name: getAnalyticsProtocolsSeries
      - name: getAnalyticsQueryTypesSeries
      - name: getAnalyticsIPVersionsSeries
      - name: getAnalyticsDNSSECSeries
      - name: getAnalyticsEncryptionSeries
      - name: getAnalyticsDestinationsSeries

      # Content Lists - Denylist (4)
      - name: getDenylist
      - name: addToDenylist
      - name: removeFromDenylist
      # replaceDenylist excluded - FastMCP limitation with raw array body
      - name: updateDenylistEntry      # Update individual entry

      # Content Lists - Allowlist (4)
      - name: getAllowlist
      - name: addToAllowlist
      - name: removeFromAllowlist
      # replaceAllowlist excluded - FastMCP limitation with raw array body
      - name: updateAllowlistEntry     # Update individual entry

      # Security - Settings (2)
      - name: getSecuritySettings
      - name: updateSecuritySettings

      # Security - TLDs (3)
      - name: getSecurityTLDs
      - name: addSecurityTLD
      - name: removeSecurityTLD
      # replaceSecurityTLDs excluded - FastMCP limitation with raw array body

      # Privacy - Settings (2)
      - name: getPrivacySettings
      - name: updatePrivacySettings

      # Privacy - Blocklists (3)
      - name: getPrivacyBlocklists
      - name: addPrivacyBlocklist
      - name: removePrivacyBlocklist
      # replacePrivacyBlocklists excluded - FastMCP limitation with raw array body

      # Privacy - Native Tracking (3)
      - name: getPrivacyNatives
      - name: addPrivacyNative
      - name: removePrivacyNative
      # replacePrivacyNatives excluded - FastMCP limitation with raw array body

      # Parental Control - Settings (2)
      - name: getParentalControlSettings
      - name: updateParentalControlSettings

      # Parental Control - Services (3)
      - name: getParentalControlServices
      - name: addToParentalControlServices
      - name: updateParentalControlServiceEntry # Update individual service
      - name: removeFromParentalControlServices # Delete individual service

      # Parental Control - Categories (3)
      - name: getParentalControlCategories
      - name: addToParentalControlCategories
      - name: updateParentalControlCategoryEntry # Update individual category
      - name: removeFromParentalControlCategories # Delete individual category

    # Metadata
    metadata:
      category: "dns,networking,api,security,privacy,parental-control"
      tags:
        - dns
        - nextdns
        - analytics
        - time-series
        - security
        - privacy
        - parental-controls
        - bulk-operations
        - api
      license: "MIT"

    # Documentation
    # TODO: Replace 'yourusername' with your actual GitHub username or organization
    readme: "https://github.com/yourusername/nextdns-mcp/blob/main/README.md"
    source: "https://github.com/yourusername/nextdns-mcp"
    upstream: "https://api.nextdns.io"
