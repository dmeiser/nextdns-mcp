# NextDNS MCP Server Configuration
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit your .env file to git!

# Required: Your NextDNS API key
# Get it from: https://my.nextdns.io/account
NEXTDNS_API_KEY=your-api-key-here

# Optional: Default profile ID to use when not specified in requests
# NEXTDNS_DEFAULT_PROFILE=abc123

# Optional: Test profile ID for write operation tests
# This should be a dedicated test profile that can be safely modified
# NEVER use a production profile for testing write operations
# NEXTDNS_TEST_PROFILE=test-profile-id

# Optional: HTTP request timeout in seconds (default: 10)
# NEXTDNS_HTTP_TIMEOUT=10

# Optional: Maximum number of retry attempts for failed requests (default: 2)
# NEXTDNS_HTTP_MAX_RETRIES=2

# Optional: Initial backoff delay in seconds for retries (default: 0.5)
# NEXTDNS_HTTP_BACKOFF_FACTOR=0.5

# ===== Profile Access Control =====
# Control which profiles can be read from or written to by this MCP server
# SECURITY: Default behavior is DENY ALL access

# Optional: Comma-separated list of profile IDs that are allowed to be read
# Empty or unset = NO profiles can be read (deny all, secure default)
# "ALL" or "all" = all profiles can be read
# Example: NEXTDNS_READABLE_PROFILES=abc123,def456
# NEXTDNS_READABLE_PROFILES=

# Optional: Comma-separated list of profile IDs that are allowed to be written to
# Empty or unset = NO profiles can be written to (deny all, secure default)
# "ALL" or "all" = all profiles can be written to (unless read-only mode is enabled)
# Write access automatically grants read access
# Example: NEXTDNS_WRITABLE_PROFILES=abc123
# NEXTDNS_WRITABLE_PROFILES=

# Optional: Enable read-only mode (disables ALL write operations)
# Set to true, 1, or yes to enable
# When enabled, no write operations are allowed regardless of profile access settings
# NEXTDNS_READ_ONLY=false

# Access Control Examples:
# 1. Allow all access (read and write):
#    NEXTDNS_READABLE_PROFILES=ALL
#    NEXTDNS_WRITABLE_PROFILES=ALL
#
# 2. Read-only access to all profiles:
#    NEXTDNS_READABLE_PROFILES=ALL
#    NEXTDNS_READ_ONLY=true
#
# 3. Only allow reading specific profiles:
#    NEXTDNS_READABLE_PROFILES=abc123,def456
#
# 4. Only allow writing to a test profile (must also grant read access):
#    NEXTDNS_READABLE_PROFILES=test123
#    NEXTDNS_WRITABLE_PROFILES=test123
#
# 5. Restrict both read and write to specific profiles:
#    NEXTDNS_READABLE_PROFILES=abc123,def456,test789
#    NEXTDNS_WRITABLE_PROFILES=test789
